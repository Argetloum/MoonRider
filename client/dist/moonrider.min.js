!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e:t.atomic=e(t)}(this,function(t){"use strict";var e={},n=function(t){var e;try{e=JSON.parse(t.responseText)}catch(n){e=t.responseText}return[e,t]},o=function(e,o,r){var i={success:function(){},error:function(){}},s=t.XMLHttpRequest||ActiveXObject,c=new s("MSXML2.XMLHTTP.3.0");return c.open(e,o,!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.onreadystatechange=function(){4===c.readyState&&(200===c.status?i.success.apply(i,n(c)):i.error.apply(i,n(c)))},c.send(r),{success:function(t){return i.success=t,i},error:function(t){return i.error=t,i}}};return e.get=function(t){return o("GET",t)},e.put=function(t,e){return o("PUT",t,e)},e.post=function(t,e){return o("POST",t,e)},e["delete"]=function(t){return o("DELETE",t)},e});var Client,MoonRider,Performance,WebSite,delay,__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};MoonRider=function(){function t(){this.client=new Client,this.webSite=new WebSite,this.performance=new Performance}return t.prototype.performance=null,t.prototype.webSite=null,t.prototype.client=null,t.prototype.setPerformance=function(){this.performance=new Performance},t}(),Performance=function(){function t(){this.setLoadingTimes()}return t.prototype.domContentReadableTime=0,t.prototype.serverLoadingTime=0,t.prototype.totalLoadingTime=0,t.prototype.loadEventTime=0,t.prototype.setLoadingTimes=function(){var t;t=window.performance.timing,this.totalLoadingTime=t.loadEventEnd-t.navigationStart,this.domContentLoadTime=t.domContentLoadedEventEnd-t.responseEnd,this.serverLoadingTime=t.responseEnd-t.requestStart,this.loadEventTime=t.loadEventEnd-t.responseEnd},t}(),WebSite=function(){function t(){this.setHost()}return t.prototype.host=null,t.prototype.setHost=function(){var t,e;e=window.location.host,"localhost"===e?(t=window.location.pathname.split("/"),this.host=t[1]?e+"/"+t[1]:e):this.host=e},t}(),Client=function(){function t(){this.isTouch=__indexOf.call(window,"ontouchstart")>=0}return t.prototype.isTouch=!1,t}(),window.onload=function(){return delay(0,function(){var t;window.performance&&(t=new MoonRider,atomic.post("http://localhost:8888/data",JSON.stringify(t)).success(function(){}).error(function(){return console.log("Error while sending data to server ...")}))})},delay=function(t,e){return setTimeout(e,t)};